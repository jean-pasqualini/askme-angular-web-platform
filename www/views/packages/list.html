<h1>Questions package manager</h1>

<div class="panel panel-default">
  <div class="panel-heading">
    Filtres
  </div>
  <div class="panel-body">
    <form class="clearfix" ng-submit="search()">
      <div class="form-group">
        <div class="col-xs-9">
          <input type="text" class="form-control" placeholder="filtrer" ng-model="query"/>
        </div>
        <div class="col-xs-3">
          <input type="button" class="btn btn-success btn-block" ng-click="search()" value="Chercher"/>
        </div>
      </div>
    </form>
  </div>
  <div class="panel-footer">
    <b>{{packages.length}}</b> packages correspondent à votre recherche
  </div>
</div>

<ul class="list-unstyled">
  <li ng-repeat="package in packages">
    <div class="panel panel-default">
      <div class="panel-heading">
        {{package.name}}
      </div>
      <div class="panel-body">
        <p>
          {{package.description}}
        </p>
        <div class="row">
          <div class="col-xs-9">
            <ul class="list-unstyled list-inline">
              <li><b>{{package.downloads}}</b> Téléchargements</li>
              <li><b>{{package.favers}}</b> Mise en favoris</li>
            </ul>
          </div>
          <div class="col-xs-3">
            <div class="pull-right">
              <a href="{{package.action}}" class="btn btn-primary">Utiliser ce packages de questions</a>
              <div ng-switch="favorites.indexOf(package.name)">
                <a ng-switch-when="-1" href="#" class="btn btn-default" ng-click="addFavorite($event, package);">Ajouter au favoris</a>
                <a ng-switch-default href="#" class="btn btn-default" ng-click="removeFavorite($event, package);">Retirer au favoris</a>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </li>
</ul>
